using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;
using EvilEye.SDK;
using EvilEye.Module;

namespace EvilEye.Module.Exploit
{
    class VRCW : BaseModule
    {
        public VRCW() : base("VRCW", "Downloads VRCW", Main.Instance.exploistButton, Main.Instance.quickMenuStuff.Button_AvatarsIcon.sprite, false)
        
            {
            if (!Directory.Exists("EvilEye/VRCW"))
            {
                Directory.CreateDirectory("EvilEye/VRCW");
            }
        }



        public override void OnEnable()
        {
            Task.Run(delegate
            {
                WebClient webClient = new WebClient
                {
                    Headers =
                    {
                        "User-Agent: Other"
                    }
                };
                webClient.DownloadFileAsync(new Uri(RoomManager.field_Internal_Static_ApiWorld_0.assetUrl), "EvilEye/VRCW/" + RoomManager.field_Internal_Static_ApiWorld_0.name);
            });
        }
    }
}
